import{n as de,f as et,a as j,b as J,g as bt,u as kt,h as $t,i as Tt,c as je,e as Q,k as se,j as De}from"../chunks/scheduler.B5c9wP8t.js";import{S as ge,i as he,k as G,s as X,v as Z,l as O,f as Y,o as V,g as $,p as E,x as be,q as w,w as ke,d as g,r as H,t as S,b as R,j as ne,e as I,c as M,a as q,z as we,n as K,m as te,h as k,A as Ce,u as Ie,B as ie,C as Et,D as Dt}from"../chunks/index.BpXyRbRA.js";import{b as qe}from"../chunks/entry.B5z_eDGK.js";import{w as le}from"../chunks/index.DqKJIJFH.js";import{S as tt,R as wt,D as vt,a as yt,s as Wt,c as St,b as Rt,g as At,G as It,T as Mt,e as Ct,C as Nt,f as Xt,h as Yt,i as Gt,u as Ot,d as Fe,v as Vt,k as Ht,m as Lt,w as Pt,n as qt,o as Bt,p as jt,q as Ft}from"../chunks/TitleImage.Ddglsc_p.js";import{T as Kt}from"../chunks/TimedScores.CkCOh3sQ.js";import{s as Ne,F as zt}from"../chunks/Footer.BPvCKlXl.js";function Ut(s){let e;return{c(){e=S(s[0])},l(t){e=R(t,s[0])},m(t,n){$(t,e,n)},p(t,n){n&1&&ne(e,t[0])},d(t){t&&g(e)}}}function Ke(s){let e,t;return e=new tt({props:{title:"the most apples you've ever eaten",$$slots:{default:[Jt]},$$scope:{ctx:s}}}),{c(){G(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,a){V(e,n,a),t=!0},p(n,a){const i={};a&6&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function Jt(s){let e;return{c(){e=S(s[1])},l(t){e=R(t,s[1])},m(t,n){$(t,e,n)},p(t,n){n&2&&ne(e,t[1])},d(t){t&&g(e)}}}function Qt(s){let e,t,n,a;e=new tt({props:{title:"apples eaten this try",progressKey:s[0]===0?void 0:s[0],$$slots:{default:[Ut]},$$scope:{ctx:s}}});let i=s[1]&&s[1]!==s[0]&&Ke(s);return{c(){G(e.$$.fragment),t=X(),i&&i.c(),n=Z()},l(l){O(e.$$.fragment,l),t=Y(l),i&&i.l(l),n=Z()},m(l,c){V(e,l,c),$(l,t,c),i&&i.m(l,c),$(l,n,c),a=!0},p(l,[c]){const r={};c&1&&(r.progressKey=l[0]===0?void 0:l[0]),c&5&&(r.$$scope={dirty:c,ctx:l}),e.$set(r),l[1]&&l[1]!==l[0]?i?(i.p(l,c),c&3&&E(i,1)):(i=Ke(l),i.c(),E(i,1),i.m(n.parentNode,n)):i&&(be(),w(i,1,1,()=>{i=null}),ke())},i(l){a||(E(e.$$.fragment,l),E(i),a=!0)},o(l){w(e.$$.fragment,l),w(i),a=!1},d(l){l&&(g(t),g(n)),H(e,l),i&&i.d(l)}}}function Zt(s,e,t){let{applesEaten:n}=e,{highestApplesEaten:a}=e;return s.$$set=i=>{"applesEaten"in i&&t(0,n=i.applesEaten),"highestApplesEaten"in i&&t(1,a=i.highestApplesEaten)},[n,a]}class xt extends ge{constructor(e){super(),he(this,e,Zt,Qt,de,{applesEaten:0,highestApplesEaten:1})}}function en(s){let e,t;return e=new Kt({props:{applesEaten:s[0],applesToWin:s[2],currentTime:s[3],bestTime:s[4],rendererWidth:s[5]}}),{c(){G(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,a){V(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.applesEaten=n[0]),a&4&&(i.applesToWin=n[2]),a&8&&(i.currentTime=n[3]),a&16&&(i.bestTime=n[4]),a&32&&(i.rendererWidth=n[5]),e.$set(i)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function tn(s){let e,t;return e=new xt({props:{applesEaten:s[0],highestApplesEaten:s[1]}}),{c(){G(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,a){V(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.applesEaten=n[0]),a&2&&(i.highestApplesEaten=n[1]),e.$set(i)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function nn(s){let e,t,n,a;const i=[tn,en],l=[];function c(r,f){return r[6]==="applesEaten"?0:1}return e=c(s),t=l[e]=i[e](s),{c(){t.c(),n=Z()},l(r){t.l(r),n=Z()},m(r,f){l[e].m(r,f),$(r,n,f),a=!0},p(r,[f]){let o=e;e=c(r),e===o?l[e].p(r,f):(be(),w(l[o],1,1,()=>{l[o]=null}),ke(),t=l[e],t?t.p(r,f):(t=l[e]=i[e](r),t.c()),E(t,1),t.m(n.parentNode,n))},i(r){a||(E(t),a=!0)},o(r){w(t),a=!1},d(r){r&&g(n),l[e].d(r)}}}function sn(s,e,t){let{applesEaten:n}=e,{highestApplesEaten:a}=e,{applesToWin:i}=e,{currentTime:l}=e,{bestTime:c}=e,{rendererWidth:r}=e,f;return s.$$set=o=>{"applesEaten"in o&&t(0,n=o.applesEaten),"highestApplesEaten"in o&&t(1,a=o.highestApplesEaten),"applesToWin"in o&&t(2,i=o.applesToWin),"currentTime"in o&&t(3,l=o.currentTime),"bestTime"in o&&t(4,c=o.bestTime),"rendererWidth"in o&&t(5,r=o.rendererWidth)},s.$$.update=()=>{s.$$.dirty&7&&t(6,f=a||n>i?"applesEaten":"time")},[n,a,i,l,c,r,f]}class rn extends ge{constructor(e){super(),he(this,e,sn,nn,de,{applesEaten:0,highestApplesEaten:1,applesToWin:2,currentTime:3,bestTime:4,rendererWidth:5})}}function ze(s){let e,t,n,a=s[2].time+"",i,l,c,r="25px";return{c(){e=I("div"),t=S("besst is "),n=I("strong"),i=S(a),l=S("ms"),c=S("!"),this.h()},l(f){e=M(f,"DIV",{});var o=q(e);t=R(o,"besst is "),n=M(o,"STRONG",{});var _=q(n);i=R(_,a),l=R(_,"ms"),_.forEach(g),c=R(o,"!"),o.forEach(g),this.h()},h(){K(e,"position","relative"),K(e,"left",r)},m(f,o){$(f,e,o),k(e,t),k(e,n),k(n,i),k(n,l),k(e,c)},p(f,o){o&4&&a!==(a=f[2].time+"")&&ne(i,a)},d(f){f&&g(e)}}}function an(s){let e,t,n="keyboard controls below",a,i,l,c,r,f="-15px",o,_,u,p="don't bite yoursself :]",T="55px",W,D,m=s[2].time&&ze(s);return{c(){e=I("div"),t=I("div"),t.textContent=n,a=X(),i=I("div"),l=S("eat "),c=S(s[1]),r=S(" apples to win! asap!!"),o=X(),m&&m.c(),_=X(),u=I("div"),u.textContent=p,this.h()},l(h){e=M(h,"DIV",{class:!0});var b=q(e);t=M(b,"DIV",{"data-svelte-h":!0}),we(t)!=="svelte-ng7q6e"&&(t.textContent=n),a=Y(b),i=M(b,"DIV",{});var v=q(i);l=R(v,"eat "),c=R(v,s[1]),r=R(v," apples to win! asap!!"),v.forEach(g),o=Y(b),m&&m.l(b),_=Y(b),u=M(b,"DIV",{"data-svelte-h":!0}),we(u)!=="svelte-1gqc4ah"&&(u.textContent=p),b.forEach(g),this.h()},h(){K(i,"position","relative"),K(i,"left",f),K(u,"position","relative"),K(u,"left",T),te(e,"class","instructions")},m(h,b){$(h,e,b),k(e,t),k(e,a),k(e,i),k(i,l),k(i,c),k(i,r),k(e,o),m&&m.m(e,null),k(e,_),k(e,u),D=!0},p(h,[b]){(!D||b&2)&&ne(c,h[1]),h[2].time?m?m.p(h,b):(m=ze(h),m.c(),m.m(e,_)):m&&(m.d(1),m=null)},i(h){D||(h&&et(()=>{D&&(W||(W=Ce(e,Ne,{},!0)),W.run(1))}),D=!0)},o(h){h&&(W||(W=Ce(e,Ne,{},!1)),W.run(0)),D=!1},d(h){h&&g(e),m&&m.d(),h&&W&&W.end()}}}function ln(s,e,t){let n,a=j,i=()=>(a(),a=J(l,r=>t(2,n=r)),l);s.$$.on_destroy.push(()=>a());let{highscores:l}=e;i();let{applesToWin:c}=e;return s.$$set=r=>{"highscores"in r&&i(t(0,l=r.highscores)),"applesToWin"in r&&t(1,c=r.applesToWin)},[l,c,n]}class on extends ge{constructor(e){super(),he(this,e,ln,an,de,{highscores:0,applesToWin:1})}}function fn(s){let e,t,n,a,i,l,c,r,f="25px",o=s[1]!==1&&Ue();function _(m,h){return m[1]<25?pn:cn}let u=_(s),p=u(s);function T(m,h){return m[8]?mn:_n}let W=T(s),D=W(s);return{c(){e=I("div"),t=S("you ate "),n=I("strong"),a=S(s[1]),i=S(" apple"),o&&o.c(),l=X(),p.c(),c=X(),r=I("div"),D.c(),this.h()},l(m){e=M(m,"DIV",{});var h=q(e);t=R(h,"you ate "),n=M(h,"STRONG",{});var b=q(n);a=R(b,s[1]),b.forEach(g),i=R(h," apple"),o&&o.l(h),l=Y(h),p.l(h),h.forEach(g),c=Y(m),r=M(m,"DIV",{});var v=q(r);D.l(v),v.forEach(g),this.h()},h(){K(r,"position","relative"),K(r,"left",f)},m(m,h){$(m,e,h),k(e,t),k(e,n),k(n,a),k(e,i),o&&o.m(e,null),k(e,l),p.m(e,null),$(m,c,h),$(m,r,h),D.m(r,null)},p(m,h){h&2&&ne(a,m[1]),m[1]!==1?o||(o=Ue(),o.c(),o.m(e,l)):o&&(o.d(1),o=null),u!==(u=_(m))&&(p.d(1),p=u(m),p&&(p.c(),p.m(e,null))),W===(W=T(m))&&D?D.p(m,h):(D.d(1),D=W(m),D&&(D.c(),D.m(r,null)))},d(m){m&&(g(e),g(c),g(r)),o&&o.d(),p.d(),D.d()}}}function un(s){let e,t,n,a,i,l,c,r,f,o,_,u="55px",p,T,W="25px";function D(b,v){return b[8]?gn:dn}let m=D(s),h=m(s);return{c(){e=I("div"),t=S("you ate "),n=S(s[2]),a=S(" apples..."),i=X(),l=I("div"),c=S("in "),r=I("strong"),f=S(s[6]),o=S("ms"),_=S("!"),p=X(),T=I("div"),h.c(),this.h()},l(b){e=M(b,"DIV",{});var v=q(e);t=R(v,"you ate "),n=R(v,s[2]),a=R(v," apples..."),v.forEach(g),i=Y(b),l=M(b,"DIV",{});var F=q(l);c=R(F,"in "),r=M(F,"STRONG",{});var x=q(r);f=R(x,s[6]),o=R(x,"ms"),x.forEach(g),_=R(F,"!"),F.forEach(g),p=Y(b),T=M(b,"DIV",{});var P=q(T);h.l(P),P.forEach(g),this.h()},h(){K(l,"position","relative"),K(l,"left",u),K(T,"position","relative"),K(T,"left",W)},m(b,v){$(b,e,v),k(e,t),k(e,n),k(e,a),$(b,i,v),$(b,l,v),k(l,c),k(l,r),k(r,f),k(r,o),k(l,_),$(b,p,v),$(b,T,v),h.m(T,null)},p(b,v){v&4&&ne(n,b[2]),v&64&&ne(f,b[6]),m===(m=D(b))&&h?h.p(b,v):(h.d(1),h=m(b),h&&(h.c(),h.m(T,null)))},d(b){b&&(g(e),g(i),g(l),g(p),g(T)),h.d()}}}function Ue(s){let e;return{c(){e=S("s")},l(t){e=R(t,"s")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function cn(s){let e;return{c(){e=S(":O")},l(t){e=R(t,":O")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function pn(s){let e;return{c(){e=S(":o")},l(t){e=R(t,":o")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function _n(s){let e,t=s[7].applesEaten+"",n,a;return{c(){e=S("besst is "),n=S(t),a=S("!")},l(i){e=R(i,"besst is "),n=R(i,t),a=R(i,"!")},m(i,l){$(i,e,l),$(i,n,l),$(i,a,l)},p(i,l){l&128&&t!==(t=i[7].applesEaten+"")&&ne(n,t)},d(i){i&&(g(e),g(n),g(a))}}}function mn(s){let e,t="a new high score!!";return{c(){e=I("strong"),e.textContent=t},l(n){e=M(n,"STRONG",{"data-svelte-h":!0}),we(e)!=="svelte-kxxo23"&&(e.textContent=t)},m(n,a){$(n,e,a)},p:j,d(n){n&&g(e)}}}function dn(s){let e,t,n;return{c(){e=S("besst is "),t=S(s[5]),n=S("ms!")},l(a){e=R(a,"besst is "),t=R(a,s[5]),n=R(a,"ms!")},m(a,i){$(a,e,i),$(a,t,i),$(a,n,i)},p(a,i){i&32&&ne(t,a[5])},d(a){a&&(g(e),g(t),g(n))}}}function gn(s){let e,t="a new high score!!";return{c(){e=I("strong"),e.textContent=t},l(n){e=M(n,"STRONG",{"data-svelte-h":!0}),we(e)!=="svelte-kxxo23"&&(e.textContent=t)},m(n,a){$(n,e,a)},p:j,d(n){n&&g(e)}}}function hn(s){let e;return{c(){e=S(":))")},l(t){e=R(t,":))")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function bn(s){let e;return{c(){e=S(":D")},l(t){e=R(t,":D")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function kn(s){let e;function t(i,l){return i[8]?bn:hn}let n=t(s),a=n(s);return{c(){a.c(),e=Z()},l(i){a.l(i),e=Z()},m(i,l){a.m(i,l),$(i,e,l)},p(i,l){n!==(n=t(i))&&(a.d(1),a=n(i),a&&(a.c(),a.m(e.parentNode,e)))},d(i){i&&g(e),a.d(i)}}}function $n(s){let e,t,n,a,i,l;function c(u,p){if(u[4]==="time")return un;if(u[4]==="applesEaten")return fn}let r=c(s),f=r&&r(s);n=new wt({props:{restart:s[3],$$slots:{default:[kn]},$$scope:{ctx:s}}});const o=s[10].default,_=bt(o,s,s[11],null);return{c(){e=I("div"),f&&f.c(),t=X(),G(n.$$.fragment),a=X(),_&&_.c(),this.h()},l(u){e=M(u,"DIV",{class:!0});var p=q(e);f&&f.l(p),t=Y(p),O(n.$$.fragment,p),a=Y(p),_&&_.l(p),p.forEach(g),this.h()},h(){te(e,"class","instructions")},m(u,p){$(u,e,p),f&&f.m(e,null),k(e,t),V(n,e,null),k(e,a),_&&_.m(e,null),l=!0},p(u,[p]){r===(r=c(u))&&f?f.p(u,p):(f&&f.d(1),f=r&&r(u),f&&(f.c(),f.m(e,t)));const T={};p&8&&(T.restart=u[3]),p&2304&&(T.$$scope={dirty:p,ctx:u}),n.$set(T),_&&_.p&&(!l||p&2048)&&kt(_,o,u,u[11],l?Tt(o,u[11],p,null):$t(u[11]),null)},i(u){l||(E(n.$$.fragment,u),E(_,u),u&&et(()=>{l&&(i||(i=Ce(e,Ne,{},!0)),i.run(1))}),l=!0)},o(u){w(n.$$.fragment,u),w(_,u),u&&(i||(i=Ce(e,Ne,{},!1)),i.run(0)),l=!1},d(u){u&&g(e),f&&f.d(),H(n),_&&_.d(u),u&&i&&i.end()}}}function Tn(s,e,t){let n,a,i,l,c=j,r=()=>(c(),c=J(_,m=>t(7,l=m)),_);s.$$.on_destroy.push(()=>c());let{$$slots:f={},$$scope:o}=e,{highscores:_}=e;r();let{time:u}=e,{applesEaten:p}=e,{applesToWin:T}=e,{restart:W}=e,D;return s.$$set=m=>{"highscores"in m&&r(t(0,_=m.highscores)),"time"in m&&t(9,u=m.time),"applesEaten"in m&&t(1,p=m.applesEaten),"applesToWin"in m&&t(2,T=m.applesToWin),"restart"in m&&t(3,W=m.restart),"$$scope"in m&&t(11,o=m.$$scope)},s.$$.update=()=>{s.$$.dirty&134&&t(4,D=l.applesEaten||p>T?"applesEaten":"time"),s.$$.dirty&512&&t(6,n=Math.round(u)),s.$$.dirty&128&&t(5,a=l.time===null?0:Math.round(l.time)),s.$$.dirty&242&&t(8,i=D==="time"?!l.time||n<=a:!l.applesEaten||p>=l.applesEaten)},[_,p,T,W,D,a,n,l,i,u,f,o]}class En extends ge{constructor(e){super(),he(this,e,Tn,$n,de,{highscores:0,time:9,applesEaten:1,applesToWin:2,restart:3})}}function Je(s){let e,t,n,a,i,l,c;function r(p){s[45](p)}function f(p){s[46](p)}function o(p){s[47](p)}let _={$$slots:{overlay:[Sn],default:[wn]},$$scope:{ctx:s}};s[1]!==void 0&&(_.pointerDown=s[1]),s[2]!==void 0&&(_.pointerX=s[2]),s[3]!==void 0&&(_.pointerY=s[3]),e=new It({props:_}),Q.push(()=>ie(e,"pointerDown",r)),Q.push(()=>ie(e,"pointerX",f)),Q.push(()=>ie(e,"pointerY",o));let u=s[15]&&s[16]&&s[17]&&Qe(s);return{c(){G(e.$$.fragment),i=X(),u&&u.c(),l=Z()},l(p){O(e.$$.fragment,p),i=Y(p),u&&u.l(p),l=Z()},m(p,T){V(e,p,T),$(p,i,T),u&&u.m(p,T),$(p,l,T),c=!0},p(p,T){const W={};T[0]&1293313|T[1]&67108864&&(W.$$scope={dirty:T,ctx:p}),!t&&T[0]&2&&(t=!0,W.pointerDown=p[1],se(()=>t=!1)),!n&&T[0]&4&&(n=!0,W.pointerX=p[2],se(()=>n=!1)),!a&&T[0]&8&&(a=!0,W.pointerY=p[3],se(()=>a=!1)),e.$set(W),p[15]&&p[16]&&p[17]?u?(u.p(p,T),T[0]&229376&&E(u,1)):(u=Qe(p),u.c(),E(u,1),u.m(l.parentNode,l)):u&&(be(),w(u,1,1,()=>{u=null}),ke())},i(p){c||(E(e.$$.fragment,p),E(u),c=!0)},o(p){w(e.$$.fragment,p),w(u),c=!1},d(p){p&&(g(i),g(l)),H(e,p),u&&u.d(p)}}}function Dn(s){let e,t,n,a;function i(r){s[40](r)}function l(r){s[41](r)}let c={game:s[0],width:s[55],height:s[56]};return s[10]!==void 0&&(c.snakeX=s[10]),s[11]!==void 0&&(c.snakeY=s[11]),e=new Bt({props:c}),Q.push(()=>ie(e,"snakeX",i)),Q.push(()=>ie(e,"snakeY",l)),{c(){G(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,f){V(e,r,f),a=!0},p(r,f){const o={};f[0]&1&&(o.game=r[0]),f[1]&16777216&&(o.width=r[55]),f[1]&33554432&&(o.height=r[56]),!t&&f[0]&1024&&(t=!0,o.snakeX=r[10],se(()=>t=!1)),!n&&f[0]&2048&&(n=!0,o.snakeY=r[11],se(()=>n=!1)),e.$set(o)},i(r){a||(E(e.$$.fragment,r),a=!0)},o(r){w(e.$$.fragment,r),a=!1},d(r){H(e,r)}}}function wn(s){let e,t,n,a,i;function l(o){s[42](o)}function c(o){s[43](o)}function r(o){s[44](o)}let f={dimensions:s[30],marginBottom:100,$$slots:{default:[Dn,({worldWidth:o,worldHeight:_})=>({55:o,56:_}),({worldWidth:o,worldHeight:_})=>[0,(o?16777216:0)|(_?33554432:0)]]},$$scope:{ctx:s}};return s[15]!==void 0&&(f.rendererWidth=s[15]),s[16]!==void 0&&(f.autoAspectRatio=s[16]),s[17]!==void 0&&(f.aspectRatio=s[17]),e=new Lt({props:f}),Q.push(()=>ie(e,"rendererWidth",l)),Q.push(()=>ie(e,"autoAspectRatio",c)),Q.push(()=>ie(e,"aspectRatio",r)),{c(){G(e.$$.fragment)},l(o){O(e.$$.fragment,o)},m(o,_){V(e,o,_),i=!0},p(o,_){const u={};_[0]&3073|_[1]&117440512&&(u.$$scope={dirty:_,ctx:o}),!t&&_[0]&32768&&(t=!0,u.rendererWidth=o[15],se(()=>t=!1)),!n&&_[0]&65536&&(n=!0,u.autoAspectRatio=o[16],se(()=>n=!1)),!a&&_[0]&131072&&(a=!0,u.aspectRatio=o[17],se(()=>a=!1)),e.$set(u)},i(o){i||(E(e.$$.fragment,o),i=!0)},o(o){w(e.$$.fragment,o),i=!1},d(o){H(e,o)}}}function vn(s){let e,t;return e=new En({props:{highscores:s[32],time:s[20],applesEaten:s[12],applesToWin:oe,restart:s[31],$$slots:{default:[Wn]},$$scope:{ctx:s}}}),{c(){G(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,a){V(e,n,a),t=!0},p(n,a){const i={};a[0]&1048576&&(i.time=n[20]),a[0]&4096&&(i.applesEaten=n[12]),a[1]&67108864&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function yn(s){let e,t;return e=new on({props:{highscores:s[32],applesToWin:oe}}),{c(){G(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,a){V(e,n,a),t=!0},p:j,i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function Wn(s){let e,t,n;return t=new jt({props:{count:50,items:["üêç","üêç","üå∏","üå∫"],hueRotationMax:360}}),{c(){e=I("div"),G(t.$$.fragment),this.h()},l(a){e=M(a,"DIV",{class:!0});var i=q(e);O(t.$$.fragment,i),i.forEach(g),this.h()},h(){te(e,"class","text-burst-wrapper svelte-nccxbl")},m(a,i){$(a,e,i),V(t,e,null),n=!0},p:j,i(a){n||(E(t.$$.fragment,a),n=!0)},o(a){w(t.$$.fragment,a),n=!1},d(a){a&&g(e),H(t)}}}function Sn(s){let e,t,n,a;const i=[yn,vn],l=[];function c(r,f){return r[12]===0?0:r[13]==="win"?1:-1}return~(e=c(s))&&(t=l[e]=i[e](s)),{c(){t&&t.c(),n=Z()},l(r){t&&t.l(r),n=Z()},m(r,f){~e&&l[e].m(r,f),$(r,n,f),a=!0},p(r,f){let o=e;e=c(r),e===o?~e&&l[e].p(r,f):(t&&(be(),w(l[o],1,1,()=>{l[o]=null}),ke()),~e?(t=l[e],t?t.p(r,f):(t=l[e]=i[e](r),t.c()),E(t,1),t.m(n.parentNode,n)):t=null)},i(r){a||(E(t),a=!0)},o(r){w(t),a=!1},d(r){r&&g(n),~e&&l[e].d(r)}}}function Qe(s){let e,t,n,a,i,l,c,r,f,o,_,u,p,T=`<a href="https://www.serpentsoundstudios.com/">Alexander Nakarada</a> -
						<a href="${qe}/assets/Alexander_Nakarada__Horde_of_Geese.mp3">Horde of Geese</a>`,W,D,m,h,b,v,F,x,P;n=new Mt({props:{clock:s[29],tickDuration:s[6],tick:s[33]}}),i=new rn({props:{applesEaten:s[12],highestApplesEaten:s[28].applesEaten,applesToWin:oe,currentTime:s[20],bestTime:s[28].time,rendererWidth:s[15]}}),c=new Ct({props:{clock:s[29],tick:s[33],game:s[0]}}),o=new Nt({});let $e={song:qe+"/assets/Alexander_Nakarada__Horde_of_Geese.mp3"};D=new Xt({props:$e}),s[48](D);function fe(y,A){return y[14]?An:Rn}let ue=fe(s),L=ue(s),C=s[14]&&Ze(s);return{c(){e=I("div"),t=I("div"),G(n.$$.fragment),a=X(),G(i.$$.fragment),l=X(),G(c.$$.fragment),r=X(),f=I("section"),G(o.$$.fragment),_=X(),u=I("section"),p=I("p"),p.innerHTML=T,W=X(),G(D.$$.fragment),m=X(),h=I("section"),b=I("button"),L.c(),v=X(),C&&C.c(),this.h()},l(y){e=M(y,"DIV",{class:!0});var A=q(e);t=M(A,"DIV",{class:!0});var B=q(t);O(n.$$.fragment,B),a=Y(B),O(i.$$.fragment,B),B.forEach(g),l=Y(A),O(c.$$.fragment,A),r=Y(A),f=M(A,"SECTION",{class:!0});var re=q(f);O(o.$$.fragment,re),re.forEach(g),_=Y(A),u=M(A,"SECTION",{class:!0});var z=q(u);p=M(z,"P",{"data-svelte-h":!0}),we(p)!=="svelte-u74k6i"&&(p.innerHTML=T),W=Y(z),O(D.$$.fragment,z),z.forEach(g),m=Y(A),h=M(A,"SECTION",{class:!0});var ae=q(h);b=M(ae,"BUTTON",{});var ve=q(b);L.l(ve),ve.forEach(g),v=Y(ae),C&&C.l(ae),ae.forEach(g),A.forEach(g),this.h()},h(){te(t,"class","box row"),te(f,"class","panel svelte-nccxbl"),K(f,"padding","var(--space_xl)"),te(u,"class","box prose svelte-nccxbl"),te(h,"class","box svelte-nccxbl"),te(e,"class","info svelte-nccxbl")},m(y,A){$(y,e,A),k(e,t),V(n,t,null),k(t,a),V(i,t,null),k(e,l),V(c,e,null),k(e,r),k(e,f),V(o,f,null),k(e,_),k(e,u),k(u,p),k(u,W),V(D,u,null),k(e,m),k(e,h),k(h,b),L.m(b,null),k(h,v),C&&C.m(h,null),F=!0,x||(P=Et(b,"click",s[49]),x=!0)},p(y,A){const B={};A[0]&4096&&(B.applesEaten=y[12]),A[0]&268435456&&(B.highestApplesEaten=y[28].applesEaten),A[0]&1048576&&(B.currentTime=y[20]),A[0]&268435456&&(B.bestTime=y[28].time),A[0]&32768&&(B.rendererWidth=y[15]),i.$set(B);const re={};A[0]&1&&(re.game=y[0]),c.$set(re);const z={};D.$set(z),ue!==(ue=fe(y))&&(L.d(1),L=ue(y),L&&(L.c(),L.m(b,null))),y[14]?C?(C.p(y,A),A[0]&16384&&E(C,1)):(C=Ze(y),C.c(),E(C,1),C.m(h,null)):C&&(be(),w(C,1,1,()=>{C=null}),ke())},i(y){F||(E(n.$$.fragment,y),E(i.$$.fragment,y),E(c.$$.fragment,y),E(o.$$.fragment,y),E(D.$$.fragment,y),E(C),F=!0)},o(y){w(n.$$.fragment,y),w(i.$$.fragment,y),w(c.$$.fragment,y),w(o.$$.fragment,y),w(D.$$.fragment,y),w(C),F=!1},d(y){y&&g(e),H(n),H(i),H(c),H(o),s[48](null),H(D),L.d(),C&&C.d(),x=!1,P()}}}function Rn(s){let e;return{c(){e=S("show settings")},l(t){e=R(t,"show settings")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function An(s){let e;return{c(){e=S("stash settings")},l(t){e=R(t,"stash settings")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function Ze(s){let e,t,n,a;return e=new Yt({props:{game:s[0],tickDuration:s[6]}}),n=new Gt({props:{game:s[0],baseTickDuration:s[5],tickDurationMin:s[8],tickDurationMax:s[9],tickDurationDecay:s[7],autoAspectRatio:s[16],aspectRatio:s[17]}}),{c(){G(e.$$.fragment),t=X(),G(n.$$.fragment)},l(i){O(e.$$.fragment,i),t=Y(i),O(n.$$.fragment,i)},m(i,l){V(e,i,l),$(i,t,l),V(n,i,l),a=!0},p(i,l){const c={};l[0]&1&&(c.game=i[0]),e.$set(c);const r={};l[0]&1&&(r.game=i[0]),l[0]&65536&&(r.autoAspectRatio=i[16]),l[0]&131072&&(r.aspectRatio=i[17]),n.$set(r)},i(i){a||(E(e.$$.fragment,i),E(n.$$.fragment,i),a=!0)},o(i){w(e.$$.fragment,i),w(n.$$.fragment,i),a=!1},d(i){i&&g(t),H(e,i),H(n,i)}}}function In(s){let e,t,n,a,i,l;e=new vt({props:{dimensions:s[30]}});let c={storageKey:Me,tick:s[33],onReset:s[37],toInitialState:s[38],spawnApples:s[34]};a=new yt({props:c}),s[39](a);let r=s[0]&&Je(s);return{c(){G(e.$$.fragment),t=X(),n=I("div"),G(a.$$.fragment),i=X(),r&&r.c(),this.h()},l(f){O(e.$$.fragment,f),t=Y(f),n=M(f,"DIV",{class:!0});var o=q(n);O(a.$$.fragment,o),i=Y(o),r&&r.l(o),o.forEach(g),this.h()},h(){te(n,"class","TrailsssSnake svelte-nccxbl"),Ie(n,"game-win",s[13]==="win"),Ie(n,"game-ready",s[13]==="ready")},m(f,o){V(e,f,o),$(f,t,o),$(f,n,o),V(a,n,null),k(n,i),r&&r.m(n,null),l=!0},p(f,o){const _={};o[0]&203165696&&(_.onReset=f[37]),o[0]&25165825&&(_.toInitialState=f[38]),a.$set(_),f[0]?r?(r.p(f,o),o[0]&1&&E(r,1)):(r=Je(f),r.c(),E(r,1),r.m(n,null)):r&&(be(),w(r,1,1,()=>{r=null}),ke()),(!l||o[0]&8192)&&Ie(n,"game-win",f[13]==="win"),(!l||o[0]&8192)&&Ie(n,"game-ready",f[13]==="ready")},i(f){l||(E(e.$$.fragment,f),E(a.$$.fragment,f),E(r),l=!0)},o(f){w(e.$$.fragment,f),w(a.$$.fragment,f),w(r),l=!1},d(f){f&&(g(t),g(n)),H(e,f),s[39](null),H(a),r&&r.d()}}}const Me="trailsss_high_score",oe=66,xe=3;function Mn(s,e,t){let n,a,i,l,c,r,f=j,o=()=>(f(),f=J(Ge,d=>t(50,r=d)),Ge),_,u=j,p=()=>(u(),u=J(Ye,d=>t(26,_=d)),Ye),T,W=j,D=()=>(W(),W=J(Ve,d=>t(51,T=d)),Ve),m,h=j,b=()=>(h(),h=J(Oe,d=>t(52,m=d)),Oe),v,F=j,x=()=>(F(),F=J(Ee,d=>t(27,v=d)),Ee),P,$e,fe=j,ue=()=>(fe(),fe=J(l,d=>t(53,$e=d)),l),L,C=j,y=()=>(C(),C=J(n,d=>t(35,L=d)),n),A,B=j,re=()=>(B(),B=J(c,d=>t(13,A=d)),c),z;s.$$.on_destroy.push(()=>f()),s.$$.on_destroy.push(()=>u()),s.$$.on_destroy.push(()=>W()),s.$$.on_destroy.push(()=>h()),s.$$.on_destroy.push(()=>F()),s.$$.on_destroy.push(()=>fe()),s.$$.on_destroy.push(()=>C()),s.$$.on_destroy.push(()=>B());const ae=Wt(St({running:!0}));je(s,ae,d=>t(36,z=d));const ve=le({width:0,height:0});let{game:N=void 0}=e,{audio:ye=void 0}=e,{pointerDown:Te=!1}=e,{pointerX:ce=void 0}=e,{pointerY:pe=void 0}=e,We,Se,Xe=!1;const Ye=le(Math.round(1e3/2));p();const Ee=Rt(le(_));x();const Ge=le(.985);o();const Oe=le(17);b();const Ve=le(2e3);D();let He,Le,Pe,U=0,_e=0,me=0;const nt=()=>{N&&(N.reset(),N.start())};let Re=0;const Ae=le(At(Me,d=>{Pt(d)})??{time:null,applesEaten:null});je(s,Ae,d=>t(28,P=d));const st=()=>{if(!N||!L||!$e||A!=="playing")return!1;De(n,L=Ot(L,N),L);let d=!1;for(const ee of $e)switch(ee.name){case"eat_apple":{t(12,U++,U),t(18,_e++,_e),d=!0;break}}if(d||(t(18,_e=0),t(19,me++,me),N.resetMovementCommands()),U>=oe){me&&N.end("win");const ee=Math.round(Re);(!P.time||ee<=P.time)&&(De(Ae,P={...P,time:ee},P),Fe(Me,P)),U>oe&&(!P.applesEaten||U>=P.applesEaten)&&(De(Ae,P={...P,applesEaten:U},P),Fe(Me,P))}return De(Ee,v=Math.max(m,Math.min(T,Math.round(_*r**_e))),v),!0},Be=(d,ee)=>{const ht=me===0?Math.min(xe,oe):Math.min(xe,oe-U-1);!Vt(d,ee,ht)&&!d.apples.length&&(ee==null||ee.end("win"))},it=()=>{De(Ee,v=_,v),t(20,Re=0),t(12,U=0),t(18,_e=0),t(19,me=0)},rt=()=>{const d=Ht(qt({mapWidth:a,mapHeight:i}));return d.apples.length=0,Be(d,N),d};function at(d){Q[d?"unshift":"push"](()=>{N=d,t(0,N)})}function lt(d){We=d,t(10,We)}function ot(d){Se=d,t(11,Se)}function ft(d){He=d,t(15,He)}function ut(d){Le=d,t(16,Le)}function ct(d){Pe=d,t(17,Pe)}function pt(d){Te=d,t(1,Te)}function _t(d){ce=d,t(2,ce)}function mt(d){pe=d,t(3,pe)}function dt(d){Q[d?"unshift":"push"](()=>{ye=d,t(4,ye)})}const gt=()=>t(14,Xe=!Xe);return s.$$set=d=>{"game"in d&&t(0,N=d.game),"audio"in d&&t(4,ye=d.audio),"pointerDown"in d&&t(1,Te=d.pointerDown),"pointerX"in d&&t(2,ce=d.pointerX),"pointerY"in d&&t(3,pe=d.pointerY)},s.$$.update=()=>{s.$$.dirty[0]&7183&&N&&Te&&ce!==void 0&&pe!==void 0&&(U===0&&N.start(),N.handlePointerInput(We,Se,ce,pe)),s.$$.dirty[0]&1&&y(t(25,n=N==null?void 0:N.state)),s.$$.dirty[1]&16&&t(24,a=L==null?void 0:L.mapWidth),s.$$.dirty[1]&16&&t(23,i=L==null?void 0:L.mapHeight),s.$$.dirty[0]&1&&ue(t(22,l=N==null?void 0:N.events)),s.$$.dirty[0]&1&&re(t(21,c=N==null?void 0:N.status)),s.$$.dirty[0]&1056768|s.$$.dirty[1]&32&&A==="playing"&&t(20,Re+=z.dt)},[N,Te,ce,pe,ye,Ye,Ee,Ge,Oe,Ve,We,Se,U,A,Xe,He,Le,Pe,_e,me,Re,c,l,i,a,n,_,v,P,ae,ve,nt,Ae,st,Be,L,z,it,rt,at,lt,ot,ft,ut,ct,pt,_t,mt,dt,gt]}class Cn extends ge{constructor(e){super(),he(this,e,Mn,In,de,{game:0,audio:4,pointerDown:1,pointerX:2,pointerY:3,baseTickDuration:5,currentTickDuration:6,tickDurationDecay:7,tickDurationMin:8,tickDurationMax:9},null,[-1,-1])}get baseTickDuration(){return this.$$.ctx[5]}get currentTickDuration(){return this.$$.ctx[6]}get tickDurationDecay(){return this.$$.ctx[7]}get tickDurationMin(){return this.$$.ctx[8]}get tickDurationMax(){return this.$$.ctx[9]}}function Nn(s){let e,t,n,a,i,l,c;return t=new Ft({props:{alt:"logo for svelteüêçsnakeüêçsports: macro photography of an adorable green cartoon snake with big cute eyes running towards a row of red apples in a line on lush green moss, realistic 3d video game, digital art, Pixar movie character, vibrant, artstation",src:qe+"/assets/trailsss.webp"}}),a=new Cn({}),l=new zt({}),{c(){e=X(),G(t.$$.fragment),n=X(),G(a.$$.fragment),i=X(),G(l.$$.fragment),this.h()},l(r){Dt("svelte-318pol",document.head).forEach(g),e=Y(r),O(t.$$.fragment,r),n=Y(r),O(a.$$.fragment,r),i=Y(r),O(l.$$.fragment,r),this.h()},h(){document.title="svelteüêçsnakeüêçsports: trailsss"},m(r,f){$(r,e,f),V(t,r,f),$(r,n,f),V(a,r,f),$(r,i,f),V(l,r,f),c=!0},p:j,i(r){c||(E(t.$$.fragment,r),E(a.$$.fragment,r),E(l.$$.fragment,r),c=!0)},o(r){w(t.$$.fragment,r),w(a.$$.fragment,r),w(l.$$.fragment,r),c=!1},d(r){r&&(g(e),g(n),g(i)),H(t,r),H(a,r),H(l,r)}}}class Bn extends ge{constructor(e){super(),he(this,e,null,Nn,de,{})}}export{Bn as component};
